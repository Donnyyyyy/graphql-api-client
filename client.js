var __assign=this&&this.__assign||Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var f in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f]);return a};export default function(a,b){var c=(void 0===b?{}:b).headers,d=void 0===c?{}:c;return function(f,g){if("function"!=typeof fetch)throw new Error("fetch is not defined. Perhaps you need a polyfill.");var h=__assign({method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({query:f,variables:g})},d);return fetch(a,h).then(function(i){return i.json()}).then(function(i){var j=i.data,k=i.errors;return k&&k.length?Promise.reject(k[0].message):j})}}
